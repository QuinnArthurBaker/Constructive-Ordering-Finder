\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{tikz}
\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;} 
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\ZnZ}{\ZZ/n\ZZ}
\newcommand{\FZ}{F_{\preceq}\left(\ZZ/n\ZZ\right)}
\newtheorem{conjecture}{Conjecture}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{definition}{Definition}
\title{Introduction to Factorial Subsets}
\author{Zack Baker }
\date{June 2017}

\begin{document}

\maketitle

\section{Introduction}

A \textit{group} $G$ is a set of elements together with a binary operation $\cdot$ such that the following properties hold:
\begin{enumerate}
\item \textbf{Closure} of the set under the binary operation: For any $a,b\in G$, $a\cdot b$ is also an element of $G$.
\item \textbf{Associativity:} for any $a,b,c\in G$, $(a\cdot b)\cdot c = a\cdot(b\cdot c)$.
\item There exists an \textbf{identity} element $e \in G$ such that for all $a\in G$, $a\cdot e = e\cdot a = a$.
\item Each element $a\in G$ has an \textbf{inverse} $b\in G$ such that $a\cdot b=b\cdot a = e$.
\end{enumerate}

When the binary operation is understood, and we are working in a multiplicative group, we will often use concatenation in place of writing the binary operation between two elements. For example, if we want to represent $a\cdot b$ for $a,b\in G$ we may simply write $ab$.

Group theory aims to understand the relations between elements of a group. This paper aims to further analyze the relationship between elements of a group by extending the concept of the factorial from the integers to any group.

For $n$ a non-negative integer, the \textit{factorial} of $n$, written $n!$ is defined as $n\times (n-1) \times \ldots \times 2 \times 1$, with the special case $0!=1$. Thus, $1! = 1$, $2!=2\times 1 = 2$, $3! = 3\times 2 \times 1 = 6$, and so on. We seek to extend the factorial by imposing an ordering on the underlying set of the group.




\section{Definitions}
Let $G$ be a finite group under the binary operator $\oplus$. To begin, we must define a binary relation $\preceq$ on $G$, where $\preceq$ is a total ordering. If the group's underlying set is numeric, and if $\preceq$ is the same as the standard $\leq$ ordering on the set, then we call $\preceq$ the \textit{natural ordering} for $G$. 


We define the factorial of $g_k$, $g_k! = \bigoplus_{i=0}^{k} g_i = g_0 \oplus g_1 \oplus g_2 \oplus \ldots \oplus g_k$, where $g_0\preceq g_1\preceq g_2 \preceq \ldots \preceq g_{k-1} \preceq g_k$ and there are no elements $g\in G\setminus\{g_0,...,,g_k\}$ such that $g_0\preceq g\preceq g_k$.
\begin{definition}
Given a group $G$ with some total ordering $\preceq$, we define the \textit{factorial subset} of $G$, denoted $F_\preceq(G)$, as $\{g! | g \in G\}$. In other words, the factorial subset of a group is the set of the factorials of each of that group's elements. If $F_\preceq(G)$ is a subgroup of $G$, then we say it is a \textit{factorial subgroup} of $G$. 
\end{definition}

\textbf{Example:} The Klein 4-group is a small, common group suitable for demonstrating the concepts established above. The Klein 4-group is defined as $\{e,a,b,c\}$, where $e$ is the identity, $a^2 = b^2 = c^2 = e$, $ab = c$, $ac = b$, and
$bc = a$. Define $\preceq$ such that $e\preceq a \preceq b \preceq c$. Then, $e! = e$, $a! = ea = a$, $b! = eab$ = $ab = c$, and $c! = eabc$ = $cc$ = $e$. Then, the factorial subset of the Klein 4-group, $F_\preceq(V_4)$, is $\{e!,a!,b!,c!\}$, or $\{e,a,c\}$. Since the factorial subset has 3 elements and $V_4$ has 4, clearly the subset is not a subgroup of $V_4$. In fact:
\begin{theorem}
For any ordering $\preceq$, $F_\preceq(V_4)$ is not a subgroup of $V_4$.
\end{theorem}
\begin{proof}
Let $x,y,z,w$ be distinct elements of $V_4$, where $x\preceq y \preceq z \preceq w$. Then, $F_\preceq(V_4) = \{x!,y!,z!,w!\}$. Then, $w! = e\cdot a\cdot b\cdot c = e$. We will show that some element is always duplicated in $F_\preceq(V_4)$. We have 4 cases:
\begin{itemize}
    \item[Case 1:] Let $x=e$. Then, $x! = e$, and $e$ is duplicated
    \item[Case 2:] Let $y=e$. Then, $y! = x!\cdot y = x!\cdot e = x!$. Thus, $x!$ is duplicated
    \item[Case 3:] Let $z=e$. Then, $z! = y!\cdot z = y!\cdot e = y!$. Thus, $y!$ is duplicated.
    \item[Case 4:] Let $w=e$. Then, $w! = z! \cdot w = z!\cdot e = z!$. Thus, $z!$ is duplicated
\end{itemize}
Therefore, in all cases, $F_\preceq(V_4) = \{e,x,y\}$, where $x,y$ are distinct elements of $V_4$. 
\end{proof}

\section{Factorial Subsets of the Additive Group of Integers modulo $n$}
In this section, we will specifically examine the factorial subsets and subgroups of the additive group of integers modulo $n$, $\mathbb{Z}/n\mathbb{Z}$. 
\subsection{Factorial Subgroups of $\ZnZ$ with the Natural Ordering}
Let $\ZnZ$ be the additive group of integers modulo $n$, and let $\ZnZ$ be ordered by the natural ordering, $\leq$.  The following table describes $F_\leq(\ZnZ)$ for small $n$. \\ \\

\begin{tabular}{|c|c|c|}
\hline
$n$ & $F_\leq(\ZZ/n\ZZ)$ & \textbf{Is $F_\leq(\ZZ/n\ZZ)$ a subgroup of $\ZZ/n\ZZ$?}\\
\hline
2 &$\{0,1\}$ & \checkmark \\
\hline
3 &\{0,1\} & \textbf{X}\\
\hline
4 &\{0,1,2,3\} & \checkmark \\
\hline
5 &\{0,1,3\} & \textbf{X} \\
\hline
6 & \{0,1,3,4\}& \textbf{X}\\
\hline
7 & \{0,1,3,6\}& \textbf{X} \\
\hline
8 &\{0,1,2,3,4,5,6,7\} & \checkmark \\
\hline
9 &\{0,1,3,6\} &\textbf{X} \\
\hline
10 &\{0,1,3,5,6,8\} & \textbf{X} \\

\hline

\end{tabular} \vspace{0.1in}
\\As we can see, $F_\leq(\ZZ/n\ZZ)$ is only a subgroup of $\ZZ/n\ZZ$ if $n$ is 2, 4 or 8, $n\leq 10$. Continuing these calculations up to $n=10000$, $F_\leq(\ZZ/n\ZZ)$ is only a subgroup if $n = 2^k$, for some positive integer $k$, and for all $n=2^k$, $F_\leq(\ZZ/n\ZZ) = \ZZ/n\ZZ$
\begin{conjecture}
For $\leq$ the natural ordering, $F_\leq(\ZZ/n\ZZ)$ is equivalent to $\ZZ/n\ZZ$ if and only if $n=2^k$ for some positive integer $k$. 
\end{conjecture}

\subsection{All Factorial Subgroups of $\ZZ/n\ZZ$}
In the previous section we examined a single ordering for many values of $n$. Conversely in this section, we will look at all orderings for few $n$. We ask for some $n$, how many orderings of $\ZZ/n\ZZ$ produce factorial subgroups? Since there are $n!$ ways of ordering $n$ elements, there will be many different orderings to check. The following table describes the number of factorial subgroups produced by $\ZZ/n\ZZ$

\begin{tabular}{|c|c|}
\hline
$n$ & Number of orderings for which $F_\preceq(\ZZ/n\ZZ)$ is a subgroup of $\ZZ/n\ZZ$\\
\hline
2 & 1\\
\hline
3 & 0\\
\hline
4 & 2\\
\hline
5 & 0\\
\hline
6 & 4\\
\hline
7 & 0\\
\hline
8 & 24\\
\hline
9 & 0\\
\hline
10 & 288\\
\hline
11 & 0\\
\hline
12 & 3856\\
\hline
\end{tabular} \vspace{0.1in}
\\Curiously, taking the non-zero entries as a sequence replicates the known integer sequence A141599.
\par Since for $\ZnZ$ there are $n!$ possible orderings, this quickly makes computation impossible for larger values of $n$. There are several observations which reduce the total number of orderings needed to check.
\begin{theorem}
$\FZ$ is a subgroup of $\ZnZ$ if and only if $\FZ$ = $\ZnZ$
\end{theorem}

\begin{proof} This proof is by contradiction. Assume that there exists a proper factorial subgroup of $\ZnZ$, $\FZ$. Then $\FZ=< \negmedspace m \negmedspace >$ for some nontrivial divisor $m$ of $n$. Then every element of $\FZ$ is a multiple of $m$. Let $(g_0,g_1,...,g_{n-1})$ be the ordering of the elements of $\ZnZ$ under $\preceq$. For some $i\in\{0,...,n-1\}$, $g_i=1$. If $i=0$ then $g_i!=1\not\in < \negmedspace m \negmedspace >$, so assume $i>0$. Then, either $g_{i-1}!$ or $g_i!$ will not be in $\FZ$, since they differ by 1 and thus cannot both be multiples of $m$. Thus, there are no proper factorial subgroups of $\ZnZ$ for any $n\in\mathbb{Z}^+$. 
\end{proof}


\begin{lemma}\label{oddlemma}
For any $n$, if $0$ is not the smallest element in $\ZnZ$, then $\FZ \neq \ZnZ$. 
\end{lemma}
\begin{proof}
This will be a proof by contradiction. Assume there exists some element $g$ directly preceding 0. Then, $0! = g! + 0 = g!$. Since $g!$ is repeated, the size of $\FZ$ must be smaller than $\ZnZ$, so $\FZ \neq \ZnZ$. 
\end{proof}
\begin{lemma}
If $n$ is odd, $\FZ \neq \ZnZ$. 
\end{lemma}
\begin{proof}
Let $g$ be the largest element of $\ZnZ$. Then, $g! = \sum_{k=0}^{n-1} k = T_{n-1} \equiv T_n - n \equiv T_n \pmod{n}$, where $T_n$ is the $n$th triangular number. If $n$ is odd, then $T_n \pmod{n}$ is 0. The triangular numbers are defined as $T_n = \sum_{i=0}^{n} = 0 + 1 + 2 + \ldots + n-1 + n$. If $n$ is odd, the middle terms of this sum are $\ldots + \frac{n-1}{2} + \frac{n+1}{2} + \ldots$. In $\ZnZ$, each element can be paired with its inverse, as there are an even number of terms in the sum, excluding 0. Thus, $T_n \pmod{n} \equiv 0$ for odd $n$. Then, 0 is duplicated in $\FZ$, so $\FZ \neq \ZnZ$.
\end{proof} 
\begin{lemma}
For even $n$, $n>2$, $\frac{n}{2}$ cannot be the greatest element.
\end{lemma}
\begin{proof}
This will be a proof by contradiction. Assume $\frac{n}{2}$ is the greatest element of $\ZnZ$. Then, since the factorial of the largest element of $\ZnZ$ is $T_n$, $\frac{n}{2}! = T_n$. For even $n$, $T_n = \frac{n}{2}$. The $n$th triangular number is defined as $0 + 1 + 2 + \ldots (n-1) + n$. For even $n$, the middle terms of this sum are $\ldots + \frac{n}{2}-1 + \frac{n}{2} + \frac{n}{2}+1 + \ldots$. Every element in this sum can be paired with its inverse, except for $\frac{n}{2}$. Thus, the sum equals $\frac{n}{2}$. Since $T_n = \frac{n}{2}$, $\frac{n}{2}! = \frac{n}{2}$. Let $g$ directly precede $\frac{n}{2}$. Then, $g! = \frac{n}{2}! - \frac{n}{2} = \frac{n}{2}-\frac{n}{2} = 0$. Thus, 0 is duplicated, so $\FZ \neq \ZnZ$. 
\end{proof}
\begin{lemma}
For even $n$, $\frac{n}{2}$ cannot be the second smallest element.
\end{lemma}
\begin{proof}
If $\frac{n}{2}$ is the second least element, then $\frac{n}{2}! = 0 + \frac{n}{2} = \frac{n}{2}$. However, we know by Lemma 2 that the factorial of the greatest element of $\ZnZ$ is $\frac{n}{2}$. Thus, if the second least element is $\frac{n}{2}$, then $\frac{n}{2}$ is duplicated, so $\FZ \neq \ZnZ$.
\end{proof}


\section{Description of the Algorithm}

In this section we describe the steps of our algorithm which creates the following output from the specified input:

\noindent\textbf{Input:} This algorithm requires a positive, even integer as input. It does not accept odd integers since factorial subgroups do not exist for $\ZnZ$ when $n$ is odd, by Lemma \ref{oddlemma}.

\noindent\textbf{Output:} The total number of number of factorial subgroups of $\ZnZ$, under all possible orderings on this set.

The list of valid beginning subsets of size $\frac{n}{2}$ are calculated. For each possible subset of $\ZnZ$ of size $\frac{n}{2}$, it is checked to see if it potentially produces $\ZnZ$. If it does, it is stored in a list. Once the subsets have been loaded or calculated, all possible orderings of $\ZnZ$ are calculated. These permutations are then iterated through. First, the first element of each ordering is checked. If it is not 0, the ordering is discarded, by Lemma 3.1. Then, the first half of the ordering is checked against the list of potentially valid subsets calculated above. If the subset of the ordering is not in the list, the ordering is discarded. Next, each element of the ordering is added together mod $n$. If the resulting sum has already been produced, the ordering is discarded, as it will be impossible to reproduce all of $\ZnZ$. If the ordering hasn't been discarded at this point, it will reproduce $\ZnZ$.
\end{document}
